{
  "name": "automotive_safety_response",
  "strict": true,
  "schema": {
    "type": "object",
    "properties": {
      "answer": {
        "type": "string",
        "description": "The direct answer to the user's question about vehicle safety"
      },
      "data_source": {
        "type": "string",
        "description": "The NHTSA data source used",
        "enum": ["recalls", "complaints", "safety_ratings", "investigations", "tsb"]
      },
      "vehicle": {
        "type": "object",
        "properties": {
          "year": {"type": "string"},
          "make": {"type": "string"},
          "model": {"type": "string"}
        },
        "required": ["year", "make", "model"],
        "additionalProperties": false
      },
      "details": {
        "type": "array",
        "items": {
          "type": "object",
          "properties": {
            "id": {"type": "string", "description": "Campaign number, complaint ID, or rating ID"},
            "summary": {"type": "string", "description": "Brief summary of the finding"}
          },
          "required": ["id", "summary"],
          "additionalProperties": false
        },
        "description": "Specific details like recall campaign numbers or complaint summaries"
      },
      "confidence": {
        "type": "string",
        "enum": ["high", "medium", "low"],
        "description": "Confidence level based on data availability"
      }
    },
    "required": ["answer", "data_source", "vehicle", "confidence"],
    "additionalProperties": false
  }
}

